== Things you  need to install == 

Fedora 
 dnf install -y git* wget curl meld autoconf automake --skip-broken --exclude=git-pull-request

Debian
 apt-get install -y git* wget curl meld autoconf automake

=== for NIS/YP functions ===

Fedora: 
 dnf install -y libnsl2-devel

Debian:
 apt-get install -y libnis-dev

=== for Tcl/Tk ===

Fedora:
 dnf install -y tcl-devel

Debian:
 apt-get install -y tcl-dev
 ln -s /usr/include/tcl* /usr/include/tcl (so we can reference tcl/tcl.h generically)


=== /usr/bin/autopoint ===
Fedora:
 dnf install -y gettext{,-devel}

Debian:
 apt-get install -y gettext{,-dev}


== Missing /usr/include/netconfig.h, Sun RPC implementation removal from glibc ==

Redhat thought it was a good idea to remove the Sun RPC calls within glibc sometime in late 2017. 

Read for more details: https://fedoraproject.org/wiki/Changes/SunRPCRemoval

The gist of the thing is that Sun RPC was not quite working for IPv6, so the glibc team had to choose: bump the ABI version ( as they say, but I am not convinced) or  move the Sun RPC inmplementation to a separate library. They chose the first solution, but that broke a bunch of things for a boatload of applications.

For Openlava, the brokerage includes missing /usr/include/netconfig.h (moved to /usr/include/tirpc/netconfig ) and misconfigured RPC system types, even if /usr/include/tirpc/netconfig.h is symlinked to the correct location.[1]


[1] On that note, do not symlink. It is a bad idea and it will just lead to forward system breakage. What should be done, is autoconf picking the correct locations, depending on system detected

=== Symptoms ===

 /usr/include/tirpc/rpc/types.h:71:23: fatal error: netconfig.h: No such file or directory
 #include <netconfig.h>

=== What to do ===

==== Install software ==== 

In RHEL/Fedora
 
 yum install -y libtircp* 


In Debian

 apt-get install -y libtircp*

==== Edit system headers ==== 

Yeah, seriously. The replacement library, libtircp, has issues references.

===== All OS =====

* /usr/include/tirpc/rpc/types.h still has a reference to 

#include <netconfig.h>

meaning, a header under /usr/include .

Edit that header to point to 

#include <tirpc/netconfig.h> 

Same for the following:

* /usr/include/tirpc/rpc/xdr.h

 #include <rpc/types.h>
 #include <tirpc/rpc/types.h>


====== Debian ======

======= Stretch =======

In Debian Strech there are extra steps:

you have to run configure again but add -D_DEFAULT_SOURCE

======= Buster and above =======
